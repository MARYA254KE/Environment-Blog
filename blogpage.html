<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Write a Blog - GreenVoice</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-green-50 min-h-screen p-6 text-gray-800">

  <!-- Header -->
  <header class="mb-10 text-center">
    <div class="max-w-7xl mx-auto flex justify-between items-center p-4">
      <h1 class="text-2xl font-bold text-green-800">üå± GreenVoice</h1>
      <nav class="space-x-4">
        <a href="index.html#about" class="hover:text-green-600">About</a>
        <a href="blogpage.html" class="hover:text-green-600">Blog</a>
        <a href="index.html#contact" class="hover:text-green-600">Contact</a>
      </nav>
    </div>
    <h1 class="text-4xl font-bold text-green-700 mb-2">üìù Create a Blog Post</h1>
    <p class="text-gray-600">Share your thoughts about nature, sustainability, or climate.</p>
  </header>

  <!-- Blog Form -->
  <section class="max-w-3xl mx-auto bg-white shadow-md rounded-xl p-6 mb-10">
    <form id="blogForm" class="space-y-4">
      <div>
        <label class="block text-lg font-medium mb-1">Title</label>
        <input type="text" id="title" class="w-full border px-4 py-2 rounded-lg" required>
      </div>
      <div>
        <label class="block text-lg font-medium mb-1">Content</label>
        <textarea id="content" rows="6" class="w-full border px-4 py-2 rounded-lg" required></textarea>
      </div>
      <button type="submit" id="submitBtn" class="bg-green-700 text-white px-6 py-2 rounded-lg hover:bg-green-800">Post Blog</button>
    </form>
  </section>

  <!-- Posted Blogs -->
  <section id="blogList" class="max-w-3xl mx-auto space-y-6">
    <h2 class="text-2xl font-semibold text-green-800 mb-4">üìö Blog Posts</h2>
    <!-- Blog posts will appear here -->
  </section>

  <script>
    const blogForm = document.getElementById('blogForm');
    const blogList = document.getElementById('blogList');
    const submitBtn = document.getElementById('submitBtn');

    let editMode = false;
    let currentPost = null;

    blogForm.addEventListener('submit', function(event) {
      event.preventDefault();

      const title = document.getElementById('title').value.trim();
      const content = document.getElementById('content').value.trim();

      if (!title || !content) return;

      if (editMode && currentPost) {
        // Update existing post
        currentPost.querySelector('h3').textContent = title;
        currentPost.querySelector('p').textContent = content;

        // Reset to add mode
        editMode = false;
        currentPost = null;
        submitBtn.textContent = 'Post Blog';
      } else {
        // Create a new blog post element
        const post = document.createElement('div');
        post.className = 'bg-white border rounded-xl shadow p-4';

        post.innerHTML = `
          <h3 class="text-xl font-bold text-green-700 mb-2">${title}</h3>
          <p class="text-gray-700 whitespace-pre-line">${content}</p>
          <div class="mt-3 flex gap-2">
            <button class="bg-yellow-500 text-white px-4 py-1 rounded hover:bg-yellow-600 editBtn">Edit</button>
            <button class="bg-red-500 text-white px-4 py-1 rounded hover:bg-red-600 deleteBtn">Delete</button>
          </div>
        `;

        // Edit button click
        post.querySelector('.editBtn').addEventListener('click', function() {
          document.getElementById('title').value = post.querySelector('h3').textContent;
          document.getElementById('content').value = post.querySelector('p').textContent;
          editMode = true;
          currentPost = post;
          submitBtn.textContent = 'Update Blog';
        });

        // Delete button click
        post.querySelector('.deleteBtn').addEventListener('click', function() {
          post.remove();
          if (editMode && currentPost === post) {
            // If we were editing this post, reset form
            editMode = false;
            currentPost = null;
            blogForm.reset();
            submitBtn.textContent = 'Post Blog';
          }
        });

        blogList.appendChild(post);
      }

      // Clear the form
      blogForm.reset();
    });
  </script>

</body>
</html>
